<%- include('templates/header') %>
<div class="container mt-5">
  <h2 class="text-center mb-4">Meals</h2>

  <div class="meal-section mb-4">
    <h3>Breakfast <a href="/health/addMeal?mealType=breakfast" class="btn btn-sm btn-secondary">Add food</a></h3>
    <div>
      <% if (dailyMacros && dailyMacros.length) { %>
        <% dailyMacros.forEach(macro => { if (macro.mealType === 'breakfast') { %>
          <div class="meal-item">
            <p><strong><%= macro.foodName %></strong></p>
            <p>Protein: <%= macro.protein %> g</p>
            <p>Carbohydrates: <%= macro.carbs %> g</p>
            <p>Fat: <%= macro.fats %> g</p>
            <p>Calories: <%= macro.calories %></p>
          </div>
        <% } }); %>
      <% } else { %>
        <p>No breakfast items added yet.</p>
      <% } %>
    </div>
  </div>

  <div class="meal-section mb-4">
    <h3>Lunch <a href="/health/addMeal?mealType=lunch" class="btn btn-sm btn-secondary">Add food</a></h3>
    <div>
      <% if (dailyMacros && dailyMacros.length) { %>
        <% dailyMacros.forEach(macro => { if (macro.mealType === 'lunch') { %>
          <div class="meal-item">
            <p><strong><%= macro.foodName %></strong></p>
            <p>Protein: <%= macro.protein %> g</p>
            <p>Carbohydrates: <%= macro.carbs %> g</p>
            <p>Fat: <%= macro.fats %></p>
            <p>Calories: <%= macro.calories %></p>
          </div>
        <% } }); %>
      <% } else { %>
        <p>No lunch items added yet.</p>
      <% } %>
    </div>
  </div>

  <div class="meal-section mb-4">
    <h3>Dinner <a href="/health/addMeal?mealType=dinner" class="btn btn-sm btn-secondary">Add food</a></h3>
    <div>
      <% if (dailyMacros && dailyMacros.length) { %>
        <% dailyMacros.forEach(macro => { if (macro.mealType === 'dinner') { %>
          <div class="meal-item">
            <p><strong><%= macro.foodName %></strong></p>
            <p>Protein: <%= macro.protein %> g</p>
            <p>Carbohydrates: <%= macro.carbs %> g</p>
            <p>Fat: <%= macro.fats %></p>
            <p>Calories: <%= macro.calories %></p>
          </div>
        <% } }); %>
      <% } else { %>
        <p>No dinner items added yet.</p>
      <% } %>
    </div>
  </div>

  <div class="meal-section mb-4">
    <h3>Snack <a href="/health/addMeal?mealType=snack" class="btn btn-sm btn-secondary">Add food</a></h3>
    <div>
      <% if (dailyMacros && dailyMacros.length) { %>
        <% dailyMacros.forEach(macro => { if (macro.mealType === 'snack') { %>
          <div class="meal-item">
            <p><strong><%= macro.foodName %></strong></p>
            <p>Protein: <%= macro.protein %> g</p>
            <p>Carbohydrates: <%= macro.carbs %> g</p>
            <p>Fat: <%= macro.fats %></p>
            <p>Calories: <%= macro.calories %></p>
          </div>
        <% } }); %>
      <% } else { %>
        <p>No snack items added yet.</p>
      <% } %>
    </div>
  </div>
</div>
<%- include('templates/footer') %>

<style>
  .meal-section {
    margin-bottom: 20px;
  }

  .meal-section h3 {
    margin-bottom: 10px;
  }

  .meal-item {
    background-color: #f5f5f5;
    padding: 10px;
    border-radius: 5px;
    margin-bottom: 10px;
  }

  .meal-item p {
    margin: 5px 0;
  }
</style>
