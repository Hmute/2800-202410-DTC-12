<%- include('templates/header') %>
<link href="/css/logExercise.css" rel="stylesheet">

<div id="exerciseCardsContainer" class="exercise-container">
    <button class="back-button" id="backbutton" onclick="window.location.href='/home'">Back</button>

    <% exercises.forEach((exercise, index) => { %>
        <div class="exercise-card" data-id="<%= exercise._id %>" data-routine-id="<%= exercise.routineId %>">
            <form>
                <div class="form-group">
                    <label for="name<%= index %>">Exercise:</label>
                    <input type="text" id="name<%= index %>" name="name" value="<%= exercise.name %>">
                </div>
                <div class="form-group">
                    <label for="repetitions<%= index %>">Reps:</label>
                    <input type="number" id="repetitions<%= index %>" name="repetitions" value="<%= exercise.repetitions %>">
                </div>
                <div class="form-group">
                    <label for="sets<%= index %>">Sets:</label>
                    <input type="number" id="sets<%= index %>" name="sets" value="<%= exercise.sets %>">
                </div>
                <div class="form-group">
                    <label for="weight<%= index %>">Weight (kg):</label>
                    <input type="number" id="weight<%= index %>" name="weight" value="<%= exercise.weight %>">
                </div>
                <div class="form-group">
                    <label for="time<%= index %>">Time (sec):</label>
                    <input type="number" id="time<%= index %>" name="time" value="<%= exercise.time %>">
                </div>
                <div class="form-group">
                    <label for="completion<%= index %>">Complete:</label>
                    <select id="completion<%= index %>" name="completion">
                        <option value="Yes" <%= exercise.completion === 'Yes' ? 'selected' : '' %>>Yes</option>
                        <option value="No" <%= exercise.completion === 'No' ? 'selected' : '' %>>No</option>
                    </select>
                </div>
                <button type="button" class="save-button">Save Entry</button>
                <button type="button" class="delete-button">Delete Entry</button>
            </form>
        </div>
    <% }); %>

    <div class="add-button-container">
        <button class="add-button" id="addButton">+</button>
    </div>
</div>

<!-- Notification Modal -->
<div class="modal fade" id="notificationModal" tabindex="-1" aria-labelledby="notificationModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="notificationModalLabel" style="color:black">Notification</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body" style="color:black" id="notificationMessage">
                <!-- Notification message will be inserted here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary closeBottom" data-dismiss="modal" style="color:white">Ok</button>
            </div>
        </div>
    </div>
</div>

<script src="/script/addExercise.js"></script>
<script src="/script/deleteExercise.js"></script>
<%- include('templates/footer') %>
